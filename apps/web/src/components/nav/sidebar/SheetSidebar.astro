---
import Copy from "@tabler/icons/outline/copy.svg";
import { Button } from "@/components/starwind/button";
import {
  Sheet,
  SheetContent,
  SheetFooter,
  SheetHeader,
  SheetTitle,
  SheetTrigger,
} from "@/components/starwind/sheet";

const { menuItems } = Astro.props;
const currentPath = Astro.url.pathname;
---

<aside id="sheet-sidebar" class="block sm:hidden">
  <Sheet>
    <SheetTrigger asChild>
      <!-- TODO: replace with icon -->
      <Button variant="ghost" size="sm" class="icon rounded-full mx-1"
        ><Copy />
      </Button>
    </SheetTrigger>
    <SheetContent side="left">
      <SheetHeader class="pb-0">
        <SheetTitle>
          <a href="/" class="flex items-center gap-2 text-3xl font-bold">
            <Copy />
            WebNDB
          </a>
        </SheetTitle>
      </SheetHeader>
      <div class="flex flex-col gap-2 px-4">
        {
          menuItems.map((item) => (
            <Button
              href={item.href}
              variant="ghost"
              size="sm"
              class={`${item.href === currentPath ? "bg-foreground/10" : ""} rounded-lg justify-start font-normal text-lg`}
            >
              <item.icon />
              {item.label}
            </Button>
          ))
        }
      </div>
      <SheetFooter class="items-center pt-0 text-s">
        <!-- TODO: update links -->
        <div class="flex gap-8 justify-center">
          <a href="/about">About</a>
          <a href="/api">API</a>
        </div>
        <a href="/compliance">Terms & Policies</a>
        <span class="text-xs">Â© 2025 WebNDB</span>
      </SheetFooter>
    </SheetContent>
  </Sheet>
</aside>
